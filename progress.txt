
## Story 1.1 - Add Space schema
- Added Space covalue with: name, documents (co.list(Document)), createdAt, updatedAt, deletedAt
- File: src/schema/index.ts
- Exported Space from schema
- Commit: feat: add Space schema with name, documents, timestamps

## Story 1.2 - Add spaces list to UserRoot schema
- Already implemented in story 1.1: UserRoot has `spaces: co.optional(co.list(Space))`
- File: src/schema/index.ts (line 84)
- No changes needed, marking as passed

## Story 1.3 - Create helper functions createSpace and deleteSpace
- Added `createSpace(name, userRoot)`: creates Space with new Group, adds to user's spaces list
- Added `deleteSpace(space)`: marks space as deleted with deletedAt timestamp
- File: src/schema/index.ts (lines 233-258)
- Exported both functions from schema
- Commit: feat: add createSpace and deleteSpace helper functions

## Story 1.4 - Add migration to initialize spaces list for existing users
- Added spaces list initialization in UserAccount migration
- After settings init, checks `!root.$jazz.has("spaces")` and creates empty list
- File: src/schema/index.ts (lines 163-166)
- Commit: feat: add migration to initialize empty spaces list for existing users

## Story 2.1 - Create SpaceSelector dropdown component
- Created SpaceSelector component with dropdown showing "Personal" option
- Replaced static "Alkalye" text in ListSidebar header with SpaceSelector
- Files: src/components/space-selector.tsx (new), src/components/list-sidebar.tsx
- Commit: feat: add SpaceSelector dropdown component in left sidebar header

## Story 2.2 - Show all user spaces in dropdown alphabetically
- Added useAccount hook to fetch user's spaces with spacesQuery
- Added getSortedSpaces helper to filter deleted spaces and sort A-Z
- Dropdown now shows Personal + all user spaces sorted alphabetically
- File: src/components/space-selector.tsx
- Commit: feat: show user spaces in dropdown sorted alphabetically

## Story 2.3 - Store selected space in state and filter document list
- Added SpaceProvider context with selectedSpace state (null = Personal, { id, name } = space)
- Added useSelectedSpace hook for accessing context
- SpaceSelector now sets selectedSpace on click, shows checkmark for current selection
- EditorPage wrapped in SpaceProvider
- Updated meResolve to also load spaces with their documents
- Added getFilteredDocs helper that returns personal docs or space docs based on selection
- Files: src/components/space-selector.tsx, src/routes/doc.$id.index.tsx
- Commit: feat: store selected space in state and filter document list

## Story 2.4 - Add New Space button in dropdown
- Added isCreateDialogOpen/setCreateDialogOpen state to SpaceContext
- Added useCreateSpaceDialog hook to access dialog state
- Added separator and "New Space" button with Plus icon in dropdown
- Clicking button sets isCreateDialogOpen to true (dialog component to be implemented in 3.1)
- File: src/components/space-selector.tsx
- Commit: feat: add New Space button in dropdown that triggers modal open

## Story 3.1 - Create CreateSpaceDialog component with name input
- Created CreateSpaceDialog component with name input field and submit button
- Dialog renders with title, description, name input, Cancel and Create buttons
- Submit button disabled until name has non-empty value
- Dialog integrated into EditorPage within SpaceProvider
- Files: src/components/create-space-dialog.tsx (new), src/routes/doc.$id.index.tsx
- Commit: feat: add CreateSpaceDialog component with name input

## Story 3.2 - On submit create Space with group and add to UserRoot.spaces
- Updated CreateSpaceDialog to call createSpace from schema on form submit
- Added useAccount hook with spacesResolve to load user's root.spaces
- Added useSelectedSpace hook to auto-select newly created space
- On submit: validates name + user loaded, calls createSpace(name, root), then setSelectedSpace
- File: src/components/create-space-dialog.tsx
- Commit: feat: create Space with group on dialog submit and add to UserRoot.spaces

## Story 3.3 - Auto-select newly created space in dropdown
- Already implemented in Story 3.2: line 46 of create-space-dialog.tsx calls setSelectedSpace after createSpace
- After space creation, dropdown immediately shows new space as selected
- File: src/components/create-space-dialog.tsx (line 46)
- No changes needed, marking as passed

## Story 3.4 - Create welcome doc in new space
- Added getSpaceWelcomeContent helper function that generates welcome content with space name
- Modified createSpace function to create a welcome Document before creating the Space
- Welcome doc is created with the space's Group for proper ownership/permissions
- Space now initializes with documents list containing the welcome doc
- File: src/schema/index.ts
- Commit: feat: create welcome doc in new space

## Story 4.1 - Create spaces.$spaceId.doc.$id.index.tsx route
- Created new route file for editing docs within a space context
- Route loads both Space and Document in parallel, handles auth/not-found states
- SpaceProvider now accepts initialSpace prop to pre-select space on mount
- Editor uses space's documents for wikilinks and duplicate operations
- New docs created via wikilinks/duplicate use space's Group as owner
- Files: src/routes/spaces.$spaceId.doc.$id.index.tsx (new), src/components/space-selector.tsx
- Commit: feat: add space doc editor route

## Story 4.2 - Create spaces.$spaceId.doc.$id.preview.tsx route
- Created new route for previewing space docs
- Loads Space and Document in parallel, handles auth/not-found/deleted states
- TopBar navigates back to space editor route (not personal)
- Presentation mode redirects to editor until slideshow route exists (story 4.3)
- File: src/routes/spaces.$spaceId.doc.$id.preview.tsx (new)
- Commit: feat: add spaces preview route

## Story 4.3 - Create spaces.$spaceId.doc.$id.slideshow.tsx route
- Created new route for slideshow presentation in space context
- Loads Space and Document in parallel, handles auth/not-found/deleted states
- Back to Editor button links to space editor route
- Teleprompter button disabled (awaiting story 4.4)
- Updated preview route to redirect presentations to slideshow route
- Files: src/routes/spaces.$spaceId.doc.$id.slideshow.tsx (new), src/routes/spaces.$spaceId.doc.$id.preview.tsx
- Commit: feat: add spaces slideshow route

## Story 4.4 - Create spaces.$spaceId.doc.$id.teleprompter.tsx route
- Created new route for teleprompter in space context
- Loads Space and Document in parallel, handles auth/not-found/deleted states
- TopBar links to space editor route and space slideshow route
- Teleprompter component reused from personal doc route
- Updated slideshow route to enable teleprompter navigation
- Files: src/routes/spaces.$spaceId.doc.$id.teleprompter.tsx (new), src/routes/spaces.$spaceId.doc.$id.slideshow.tsx
- Commit: feat: add spaces teleprompter route

## Story 4.5 - Update sidebar to show space-specific doc list when in space route
- Added optional `spaceId` prop to SidebarDocumentList and DocumentItem components
- When `spaceId` is provided, document links navigate to space routes (/spaces/$spaceId/doc/$id) instead of personal routes
- Updated context menu links (preview, slideshow, teleprompter) to use space routes when in space context
- Passed `spaceId` from space editor route to SidebarDocumentList
- Files: src/components/sidebar-document-list.tsx, src/routes/spaces.$spaceId.doc.$id.index.tsx
- Commit: feat: update sidebar to use space routes when in space context

## Story 5.1 - Update makeCreateDocument to accept optional space parameter
- Added SpaceWithDocuments type for space with loaded documents
- Updated makeCreateDocument signature to accept optional `space` parameter
- When space is provided: use space.$jazz.owner as group, push to space.documents
- When no space: create new Group per doc, push to me.root.documents
- File: src/routes/doc.$id.index.tsx
- Commit: feat: update makeCreateDocument to accept optional space parameter

## Story 5.2 - Add spaceId field to Document schema
- Added optional spaceId string field to Document schema
- File: src/schema/index.ts (line 67)
- Commit: feat: add spaceId field to Document schema

## Story 5.3 - Push new doc to space.documents when in space context
- Updated `/new` route to accept optional `spaceId` search parameter
- When spaceId provided: creates doc with space.$jazz.owner, sets spaceId field, pushes to space.documents, redirects to /spaces/$spaceId/doc/$id
- When no spaceId: creates doc with new Group, pushes to me.root.documents (personal)
- Updated space editor route to pass spaceId to /new link
- Updated personal editor route to pass selectedSpace?.id to /new link
- Files: src/routes/new.tsx, src/routes/spaces.$spaceId.doc.$id.index.tsx, src/routes/doc.$id.index.tsx
- Commit: feat: push new doc to space.documents when in space context

## Story 6.1 - Create spaces.$spaceId.index.tsx route
- Created new route that loads space with documents
- Redirects to most recent non-deleted doc in space (sorted by updatedAt)
- If no docs exist, creates new empty doc with space.$jazz.owner and spaceId field
- Handles deleted space by redirecting to /
- File: src/routes/spaces.$spaceId.index.tsx (new)
- Commit: feat: add spaces index route that redirects to latest doc or creates new

## Story 6.2 - Redirect /doc/$id to space URL when user is space member
- Added useEffect in EditorPage to check if doc has spaceId field
- If spaceId exists, navigate to /spaces/$spaceId/doc/$id with replace: true
- Shows loading spinner while redirect is pending
- File: src/routes/doc.$id.index.tsx
- Commit: feat: redirect /doc/$id to space URL when doc has spaceId

## Story 6.3 - Handle deleted space case with error page
- Added SpaceDeleted component to document-error-states.tsx with FolderX icon
- Shows "Space deleted" title and "This space has been deleted and is no longer available." message
- Updated all 4 space doc routes to use SpaceDeleted instead of DocumentNotFound for deleted spaces
- Files: src/components/document-error-states.tsx, src/routes/spaces.$spaceId.doc.$id.*.tsx
- Commit: feat: add SpaceDeleted error page for deleted space routes

## Story 7.1 - Create spaces.$spaceId.settings.tsx route
- Created new route file for space settings page
- Loads space with documents query, handles auth/not-found/deleted states
- Renders settings page with TopBar (back button, "Space Settings" title)
- Shows space name in General section (read-only for now, editing in story 7.2)
- File: src/routes/spaces.$spaceId.settings.tsx (new)
- Commit: feat: add space settings route

## Story 7.2 - Show editable space name in settings
- Added isAdmin check via space.$jazz.owner.myRole() === "admin"
- Admins see Input field, non-admins see read-only text
- handleNameChange updates space.name and space.updatedAt on change
- File: src/routes/spaces.$spaceId.settings.tsx
- Commit: feat: make space name editable for admins in settings

## Story 7.3 - Show member list with roles in settings
- Added SpaceMembersSection component to space settings page
- Loads members from spaceGroup.members via useEffect async loader
- Each member shows name, "You" badge for current user, and role label
- getRoleLabel helper maps role to display text (Admin, Can edit, Can view)
- Uses Badge component for "You" indicator
- File: src/routes/spaces.$spaceId.settings.tsx
- Commit: feat: show member list with roles in space settings

## Story 7.4 - Add delete space button for owner only
- Added DeleteSpaceSection component to space settings page
- Only renders for admins (isAdmin = spaceGroup?.myRole() === "admin")
- Shows "Danger Zone" section with red-themed border and background
- Delete button opens ConfirmDialog with destructive variant
- On confirm: calls deleteSpace(space) from schema, navigates to home
- Added imports: useNavigate, deleteSpace, ConfirmDialog, useConfirmDialog
- File: src/routes/spaces.$spaceId.settings.tsx
- Commit: feat: add delete space button for owner only

## Story 7.5 - Disable controls based on user role in space group
- Changed SpaceNameSection: non-admins now see disabled Input instead of static text
- Changed DeleteSpaceSection: always renders for all users, delete button disabled for non-admins
- Non-admin users can view controls but cannot interact with them
- File: src/routes/spaces.$spaceId.settings.tsx
- Commit: feat: disable controls based on user role in space settings

## Story 8.1 - Add avatar field to Space schema
- Added optional avatar field of type co.image() to Space schema
- File: src/schema/index.ts (line 74)
- Commit: feat: add avatar field to Space schema

## Story 8.2 - Add avatar upload in space settings
- Added SpaceAvatarUpload component in SpaceNameSection (General settings area)
- Uses createImage from jazz-tools/media to upload and resize avatar (max 512px)
- Uses Image component from jazz-tools/react to display uploaded avatar
- Shows User icon placeholder when no avatar set
- Upload button disabled for non-admins, shows loading state during upload
- Hidden file input with accept="image/*" for file selection
- Updated spaceQuery to also resolve avatar field
- File: src/routes/spaces.$spaceId.settings.tsx
- Commit: feat: add avatar upload in space settings

## Story 8.3 - Show avatar in space selector dropdown
- Updated spacesQuery to resolve avatar field for each space
- Added SpaceAvatar component that renders Image or falls back to Users icon
- Uses Image component from jazz-tools/react with size-4 (16x16) dimensions
- Replaced static Users icon with SpaceAvatar in dropdown menu items
- Added LoadedSpaceWithAvatar type for proper type inference
- File: src/components/space-selector.tsx
- Commit: feat: show avatar in space selector dropdown

## Story 8.4 - Fallback to initials when no avatar
- Added SpaceInitials component that derives initials from space name
- Added getInitials helper: single word → first char, multi-word → first + last initials
- SpaceInitials supports size variants: "sm" (16px) for dropdown, "md" (48px) for settings
- Updated SpaceAvatar in dropdown to use SpaceInitials instead of Users icon
- Updated SpaceAvatarUpload in settings to use SpaceInitials instead of User icon
- Exported SpaceInitials from space-selector.tsx for reuse
- Files: src/components/space-selector.tsx, src/routes/spaces.$spaceId.settings.tsx
- Commit: feat: fallback to initials when space has no avatar

## Story 9.1 - Create SpaceShareDialog component
- Created SpaceShareDialog component similar to doc ShareDialog
- Dialog renders with invite options for Admin, Can edit, Can view roles
- Shows generated invite link with copy button after clicking role button
- Displays collaborators list with names, roles, and revoke buttons (admin only)
- Shows pending invites with revoke option
- Non-admin collaborators see "Leave space" button
- Includes auth gate showing "Sign in to share" for unauthenticated users
- Helper functions: getSpaceGroup, createSpaceInviteLink, getSpaceCollaborators, getSpaceOwner, revokeSpaceInvite, handleLeaveSpace
- File: src/components/space-share-dialog.tsx (new)
- Commit: feat: add SpaceShareDialog component with invite options

## Story 9.2 - Support reader/writer/admin invite links for spaces
- Already implemented in Story 9.1: SpaceShareDialog has 3 buttons (Admin, Can edit, Can view)
- Each button calls handleCreateLink with role: "admin", "writer", or "reader"
- createSpaceInviteLink function (lines 347-366) creates invite group, adds to space group with role
- Generates URL format: /invite#/space/{spaceId}/invite/{groupId}/{secret}
- File: src/components/space-share-dialog.tsx (lines 207-238, 347-366)
- No changes needed, marking as passed

## Story 9.3 - Create space invite URL format
- Already implemented in Story 9.1: createSpaceInviteLink generates correct URL format
- Line 366: `${baseURL}/invite#/space/${space.$jazz.id}/invite/${inviteGroup.$jazz.id}/${inviteSecret}`
- This matches required format /invite#/space/{spaceId}/invite/{groupId}/{secret}
- File: src/components/space-share-dialog.tsx (line 366)
- No changes needed, marking as passed

## Story 9.4 - Update /invite route to handle space invites
- Added SpaceInviteData type with type: "space", spaceId, inviteGroupId, inviteSecret
- Updated parseInviteHash to detect space invites: #/space/{spaceId}/invite/{groupId}/{secret}
- Updated useAccount resolve to include spaces: true
- acceptInviteRef now handles both doc and space invites
- For space invites: loads Space, adds to user's spaces list, redirects to /spaces/$spaceId
- Updated UI components (LoadingState, SuccessState, NeedsAuthState) to show space-specific text/icons
- Uses FolderOpen icon for space invites, FileText for doc invites
- File: src/routes/invite.tsx
- Commit: feat: update invite route to handle space invites

## Story 9.5 - On space invite accept add space to user's list and redirect
- Already implemented in Story 9.4: acceptInviteRef handles space invites
- Lines 128-132: Adds space to me.root.spaces.$jazz.push(space) if not already present
- Lines 134-136: Redirects to /spaces/$spaceId after successful accept
- File: src/routes/invite.tsx
- No additional changes needed, marking as passed

## Story 10.1 - Add public toggle in space share dialog
- Added "Public access" section in SpaceShareDialog for admins
- When public: shows Globe icon, public link with copy button, "Make private" button
- When private: shows description and "Make public" button
- Added spaceIsPublic/publicCopied state variables
- Added handleCopyPublicLink, handleMakePublic, handleMakePrivate handlers
- Added helper functions: isSpacePublic, makeSpacePublic, makeSpacePrivate, getSpacePublicLink
- isSpacePublic checks if "everyone" has a role via spaceGroup.getRoleOf("everyone")
- makeSpacePublic calls spaceGroup.makePublic() and updates space.updatedAt
- makeSpacePrivate calls spaceGroup.removeMember("everyone") and updates space.updatedAt
- getSpacePublicLink returns /spaces/{spaceId} URL
- File: src/components/space-share-dialog.tsx
- Commit: feat: add public toggle in space share dialog

## Story 10.2 - Implement makePublic/removeMember for space group
- Already implemented in Story 10.1: makeSpacePublic and makeSpacePrivate helper functions
- makeSpacePublic (line 575-583): calls spaceGroup.makePublic() and updates space.updatedAt
- makeSpacePrivate (line 585-593): calls spaceGroup.removeMember("everyone") and updates space.updatedAt
- handleMakePublic handler (line 146) and handleMakePrivate handler (line 158) call these functions
- File: src/components/space-share-dialog.tsx
- No changes needed, marking as passed

## Story 10.3 - Public space URL works without invite
- When spaceGroup.makePublic() is called, Jazz adds "everyone" as reader
- Space.load() and Document.load() return loaded content for public spaces (anyone can read)
- Space routes (index, doc.$id.index, preview, slideshow, teleprompter) already check $isLoaded
- If space/doc is public, Jazz returns loaded data and routes render content
- canEdit(doc) returns false for readers, making editor read-only for anonymous/reader users
- Updated spaces.$spaceId.index.tsx to check write permission before creating new docs
- Anonymous users viewing empty public spaces are redirected to home (read-only, can't create)
- File: src/routes/spaces.$spaceId.index.tsx
- Commit: feat: enable public space access without invite link

## Story 11.1 - Update wikilink autocomplete to filter by current space
- Updated personal doc route (doc.$id.index.tsx) to filter wikilink suggestions by selectedSpace
- When selectedSpace is null: shows personal documents in autocomplete
- When selectedSpace has value: shows that space's documents in autocomplete
- Updated `documents` computation (lines 181-208) to check selectedSpace and fetch from space.documents
- Updated `wikiLinkDocs` computation (lines 229-245) similarly for wikilink insertion menu
- Updated `makeCreateDocForWikilink` to accept optional space parameter
- When space provided: creates doc with space.$jazz.owner, sets spaceId, pushes to space.documents
- When no space: creates doc with doc owner, pushes to me.root.documents
- Added MaybeSpace type alias for loaded space with documents
- File: src/routes/doc.$id.index.tsx
- Commit: feat: filter wikilink autocomplete by current space

## Story 11.2 - Update backlink sync to only update links within same space
- Updated useBacklinkSync hook to accept optional spaceId in options parameter
- When spaceId provided: loads space via useCoState, syncs only to space.documents
- When no spaceId (personal context): syncs only to personal docs (filtering out docs with spaceId)
- Added BacklinkSyncOptions type for the third parameter
- Updated getDocuments() to return space docs or personal docs based on context
- Updated docsReady check to consider space loading state
- Updated space editor route to pass { spaceId } to useBacklinkSync
- Files: src/lib/backlink-sync.ts, src/routes/spaces.$spaceId.doc.$id.index.tsx
- Commit: feat: update backlink sync to only update links within same space

## Story 12.1 - Create DuplicateDocDialog component
- Created DuplicateDocDialog component with name input and destination picker
- Dialog renders with title "Duplicate document", description, name input, destination Select dropdown
- Name input pre-filled with "Original (copy)" where Original is derived from doc's first heading
- Destination picker shows Personal option + all user spaces (sorted A-Z, filtered deleted)
- Uses SpaceInitials from space-selector for space icons in dropdown
- Submit button disabled until name has value
- onDuplicate callback receives (name, destination) where destination is null for personal or { id, name } for space
- File: src/components/duplicate-doc-dialog.tsx (new)
- Commit: feat: add DuplicateDocDialog component with destination picker and name input

## Story 12.2 - Show destination picker with Personal and all spaces
- Already implemented in Story 12.1: DuplicateDocDialog has destination Select dropdown
- Personal option rendered at lines 121-124 with User icon
- All user spaces mapped at lines 125-130 with SpaceInitials
- getSortedSpaces helper (lines 159-170) filters deleted spaces and sorts A-Z
- File: src/components/duplicate-doc-dialog.tsx
- No changes needed, marking as passed

## Story 12.3 - Prompt for new name with default 'Original (copy)'
- Already implemented in Story 12.1: DuplicateDocDialog pre-fills name input
- Line 57: `let docName = getDocName(doc)` extracts doc name from first heading
- Line 62: `setName(\`${docName} (copy)\`)` pre-fills with "Original (copy)" format
- Lines 172-177: getDocName() extracts title from first heading, strips #, defaults to "Untitled"
- Lines 64-67: Focuses and selects input on dialog open for easy replacement
- File: src/components/duplicate-doc-dialog.tsx
- No changes needed, marking as passed

## Story 12.4 - Deep copy doc content and assets
- Implemented duplicateDocument async function that performs deep copy with progress tracking
- Creates new Group for personal docs or uses space.$jazz.owner for space docs
- Deep copies each asset: extracts blob via original.toBlob(), creates new image with createImage()
- Builds asset ID map (old -> new) and replaces all asset:oldId references in content
- Updates first heading in content to new name, or prepends heading if none exists
- Creates new Document with copied content and cloned assets list
- Pushes to targetSpace.documents or me.root.documents based on destination
- Added DuplicateProgress type for tracking: total, copied, status, error
- Updated DuplicateDocDialog to show progress during duplication ("Copying assets (1/3)...")
- Cancel and Duplicate buttons disabled while duplication in progress
- Error state displayed if duplication fails
- Exported duplicateDocument function and DuplicateProgress type for reuse
- File: src/components/duplicate-doc-dialog.tsx
- Commit: feat: implement deep copy of doc content and assets for duplication

## Story 12.5 - Show progress indicator for asset copying
- Created Progress UI component (src/components/ui/progress.tsx)
- Progress bar uses role="progressbar" with aria attributes for accessibility
- Added visible progress section in DuplicateDocDialog during asset copying
- Shows "Copying assets..." label with count (e.g., "1/3") and progress bar
- Progress bar animates with 300ms transition as assets are copied
- Only displays when isDuplicating && progress.total > 0 (has assets to copy)
- Files: src/components/ui/progress.tsx (new), src/components/duplicate-doc-dialog.tsx
- Commit: feat: add progress indicator for asset copying in duplicate dialog

## Story 12.6 - Add duplicate option to file menu in right sidebar
- Added "Duplicate" menu item to SidebarFileMenu dropdown after "Save as..."
- Imported DuplicateDocDialog component
- Added duplicateOpen/setDuplicateOpen state for dialog visibility
- Clicking "Duplicate" opens DuplicateDocDialog with current doc
- Added makeDuplicate handler factory that navigates to new doc after duplication
- If destination is a space: navigates to /spaces/$spaceId/doc/$id
- If destination is personal: navigates to /doc/$id
- File: src/components/sidebar-file-menu.tsx
- Commit: feat: add duplicate option to file menu in right sidebar

## Story 13.1 - Create SpaceNotFound component
- Added SpaceNotFound component to document-error-states.tsx
- Uses FolderSearch icon (differentiates from SpaceDeleted which uses FolderX)
- Shows "Space not found" title and "This space doesn't exist or may have been removed." description
- Includes "Go to App" button linking to home
- Exported from document-error-states.tsx alongside existing error components
- File: src/components/document-error-states.tsx
- Commit: feat: add SpaceNotFound component for missing space error state

## Story 13.2 - Create SpaceUnauthorized component
- Added SpaceUnauthorized component to document-error-states.tsx
- Uses FolderLock icon (differentiates from DocumentUnauthorized which uses ShieldOff)
- Shows "Access denied" title and "You don't have permission to view this space." description
- Includes "Go to App" button linking to home
- Exported from document-error-states.tsx alongside existing error components
- File: src/components/document-error-states.tsx
- Commit: feat: add SpaceUnauthorized component for unauthorized space access

## Story 13.3 - Use error components in space routes
- Updated all 5 space routes to use SpaceNotFound/SpaceUnauthorized for space errors
- Space routes now show SpaceNotFound when space doesn't exist (instead of DocumentNotFound)
- Space routes now show SpaceUnauthorized when user lacks access (instead of DocumentUnauthorized)
- Document errors still use DocumentNotFound/DocumentUnauthorized (for doc within space)
- Files: spaces.$spaceId.doc.$id.index.tsx, preview.tsx, slideshow.tsx, teleprompter.tsx, settings.tsx
- Commit: feat: use SpaceNotFound/SpaceUnauthorized in space routes