---
import "#app/index.css"

let requestUrl = new URL(Astro.request.url)
let siteBaseUrl = Astro.site ?? new URL(requestUrl.origin)
let canonicalUrl = new URL(
	requestUrl.pathname + requestUrl.search,
	siteBaseUrl,
).toString()
let ogImageUrl = new URL("/icons/alkalye-social.png", siteBaseUrl).toString()
let pageTitle = "Alkalye - A beautiful Markdown Editor for the web"
let metaDescription =
	"Typography-first markdown workspace with end-to-end encrypted sync, realtime collaboration, and presentation tools."

let coreFeatures = [
	{
		title: "Secure sync, still local-first",
		body: "Write instantly offline, then sync end-to-end encrypted across your devices.",
	},
	{
		title: "Realtime collaboration",
		body: "Work in the same doc with live cursors and updates that feel immediate.",
	},
	{
		title: "Presentation workflow",
		body: "Turn markdown into slideshow and teleprompter views without leaving the app.",
	},
	{
		title: "Time machine",
		body: "Scrub complete document history and recover exactly what you need.",
	},
	{
		title: "Backup and round-trip",
		body: "Export to your computer, edit with Claude Code/OpenCode, sync back to collaborate.",
	},
	{
		title: "Asset-rich markdown",
		body: "Work with image and video assets, wiki links, and lots of keyboard shortcuts.",
	},
]
---

<!doctype html>
<html lang="en">
	<head>
		<title>{pageTitle}</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
		<meta name="description" content={metaDescription} />
		<link rel="canonical" href={canonicalUrl} />
		<meta property="og:type" content="website" />
		<meta property="og:title" content={pageTitle} />
		<meta property="og:description" content={metaDescription} />
		<meta property="og:url" content={canonicalUrl} />
		<meta property="og:image" content={ogImageUrl} />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={pageTitle} />
		<meta name="twitter:description" content={metaDescription} />
		<meta name="twitter:image" content={ogImageUrl} />
		<style>
			:root {
				--border-hairline: 1px;
			}

			@media only screen and (min-device-pixel-ratio: 2),
				only screen and (min-resolution: 192dpi) {
				:root {
					--border-hairline: 0.5px;
				}
			}

			* {
				box-sizing: border-box;
			}

			html,
			body {
				margin: 0;
				padding: 0;
				background: var(--background);
				color: var(--foreground);
				font-family: "Geist Variable", ui-sans-serif, system-ui, sans-serif;
				-webkit-font-smoothing: antialiased;
			}

			main {
				max-width: 1120px;
				margin: 0 auto;
				padding: calc(1.25rem + env(safe-area-inset-top))
					calc(1rem + env(safe-area-inset-right))
					calc(6rem + env(safe-area-inset-bottom))
					calc(1rem + env(safe-area-inset-left));
			}

			nav {
				position: sticky;
				top: 0;
				z-index: 20;
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 0.75rem 0;
				background: var(--background);
				border-bottom: var(--border-hairline) solid var(--border);
				isolation: isolate;
			}

			.logo {
				font-size: 1rem;
				font-weight: 700;
				letter-spacing: -0.03em;
			}

			a {
				color: inherit;
				touch-action: manipulation;
			}

			.btn {
				display: inline-flex;
				align-items: center;
				gap: 0.45rem;
				border-radius: 0;
				padding: 0.62rem 1rem;
				min-height: 44px;
				font-size: 0.9rem;
				line-height: 1;
				text-decoration: none;
				border: var(--border-hairline) solid var(--border);
				transition: transform 120ms ease, border-color 120ms ease;
			}

			@media (hover: hover) and (pointer: fine) {
				.btn:hover {
					transform: translateY(-1px);
				}
			}

			.btn:focus-visible {
				outline: 2px solid oklch(0.45 0 0);
				outline-offset: 2px;
			}

			.btn.primary {
				background: var(--brand-subtle);
				color: var(--foreground);
				border-color: color-mix(in oklab, var(--brand) 40%, var(--border));
			}

			.hero {
				padding: 5.5rem 0 3rem;
				display: grid;
				gap: 1.5rem;
			}

			.kicker {
				font-family: "Geist Variable", ui-sans-serif, system-ui, sans-serif;
				font-size: 0.76rem;
				letter-spacing: 0.1em;
				text-transform: uppercase;
				color: var(--brand);
			}

			h1 {
				margin: 0;
				max-width: 18ch;
				font-family: "Geist Mono Variable", ui-monospace, monospace;
				font-size: clamp(2.35rem, 7vw, 5.8rem);
				line-height: 0.95;
				letter-spacing: -0.04em;
				text-wrap: balance;
			}

			h1 em {
				font-style: normal;
				color: var(--brand);
			}

			.lead {
				margin: 0;
				max-width: 62ch;
				color: var(--muted-foreground);
				line-height: 1.55;
				font-size: 1.08rem;
			}

			.hero-grid {
				display: grid;
				grid-template-columns: 1.15fr 0.85fr;
				gap: 1.1rem;
				margin-top: 1rem;
			}

			.panel {
				border: var(--border-hairline) solid var(--border);
				border-radius: 0;
				padding: 1.1rem;
				background: var(--background);
			}

			.panel h2 {
				margin: 0 0 0.6rem;
				font-size: 1rem;
				letter-spacing: -0.02em;
			}

			.panel p,
			.panel li {
				margin: 0;
				color: var(--muted-foreground);
				line-height: 1.5;
				font-size: 0.94rem;
			}

			.panel ul {
				margin: 0;
				padding-left: 1.1rem;
				display: grid;
				gap: 0.5rem;
			}

			.section {
				padding: 3.8rem 0;
				border-top: var(--border-hairline) solid var(--border);
			}

			.section h3 {
				margin: 0 0 0.8rem;
				font-size: clamp(1.45rem, 2.4vw, 2.2rem);
				letter-spacing: -0.03em;
				text-wrap: balance;
			}

			.section-intro {
				margin: 0;
				max-width: 70ch;
				color: var(--muted-foreground);
				line-height: 1.55;
			}

			.feature-grid {
				display: grid;
				grid-template-columns: repeat(3, minmax(0, 1fr));
				gap: 0.9rem;
				margin-top: 1.25rem;
			}

			.feature {
				border: var(--border-hairline) solid var(--border);
				border-radius: 0;
				padding: 1rem;
				background: #fff;
			}

			.feature strong {
				display: block;
				margin-bottom: 0.35rem;
				letter-spacing: -0.01em;
			}

			.timeline {
				display: grid;
				gap: 0.75rem;
				margin-top: 1.2rem;
			}

			.timeline-item {
				display: grid;
				grid-template-columns: 120px 1fr;
				gap: 0.8rem;
				align-items: start;
				padding: 0.8rem;
				border: var(--border-hairline) solid var(--border);
				border-radius: 0;
			}

			.timeline-item span {
				font-family: "Geist Variable", ui-sans-serif, system-ui, sans-serif;
				font-size: 0.76rem;
				text-transform: uppercase;
				letter-spacing: 0.08em;
				color: var(--brand);
			}

			.cta {
				padding: 4.2rem 0 0;
				display: flex;
				gap: 0.6rem;
				flex-wrap: wrap;
			}

			[id] {
				scroll-margin-top: 88px;
			}

			@media (prefers-reduced-motion: reduce) {
				* {
					animation-duration: 1ms !important;
					animation-iteration-count: 1 !important;
					transition-duration: 1ms !important;
					scroll-behavior: auto !important;
				}
			}

			@media (max-width: 980px) {
				.hero-grid,
				.feature-grid {
					grid-template-columns: 1fr;
				}

				.timeline-item {
					grid-template-columns: 1fr;
				}

				.hero {
					padding-top: 4rem;
				}
			}
		</style>
	</head>
	<body>
		<main>
			<nav>
				<div class="logo">Alkalye</div>
				<a class="btn" href="/app">Open app</a>
			</nav>

			<section class="hero">
				<div class="kicker">Typography-first markdown editor</div>
				<h1>Alkalye - A beautiful Markdown Editor <em>for the web</em></h1>
				<p class="lead">
					Alkalye keeps the product language minimal, then puts power where it
					belongs: secure sync, collaboration, version history, and polished
					presentation modes. Local-first by default. Reliable on mobile and desktop.
				</p>
				<div class="cta">
					<a class="btn primary" href="/app">Start writing</a>
					<a class="btn" href="/app/welcome">Product walkthrough</a>
				</div>
				<div class="hero-grid">
					<article class="panel">
						<h2>What you get</h2>
						<ul>
							<li>End-to-end encrypted sync across devices</li>
							<li>Realtime collaboration with live cursors</li>
							<li>Markdown slideshow and teleprompter views</li>
							<li>Time machine for complete doc history</li>
						</ul>
					</article>
					<article class="panel">
						<h2>Built for writing flow</h2>
						<p>
							Wiki links, image/video assets, keyboard-heavy navigation, and backup
							round-trips with Claude Code/OpenCode all stay inside one coherent
							workspace.
						</p>
					</article>
				</div>
			</section>

			<section class="section" id="features">
				<h3>Core capabilities</h3>
				<p class="section-intro">
					The app keeps visual noise low, but it does a lot under the surface.
				</p>
				<div class="feature-grid">
					{
						coreFeatures.map(feature => (
							<div class="feature">
								<strong>{feature.title}</strong>
								<p>{feature.body}</p>
							</div>
						))
					}
				</div>
			</section>

			<section class="section" id="workflow">
				<h3>One workflow, from first draft to delivery</h3>
				<p class="section-intro">
					Use one markdown source across writing, collaboration, review, and
					presentation. No format conversion tax.
				</p>
				<div class="timeline">
					<div class="timeline-item">
						<span>Draft</span>
						<p>
							Write with a typography-focused editor and keyboard-first controls.
						</p>
					</div>
					<div class="timeline-item">
						<span>Collaborate</span>
						<p>
							Invite people to docs or spaces, edit together in real time, follow live
							cursors.
						</p>
					</div>
					<div class="timeline-item">
						<span>Recover</span>
						<p>
							Use time machine to inspect and restore previous states when needed.
						</p>
					</div>
					<div class="timeline-item">
						<span>Present</span>
						<p>
							Switch into slideshow or teleprompter mode from the same document.
						</p>
					</div>
				</div>
			</section>

			<section class="section" id="platform">
				<h3>Made for modern web app reality</h3>
				<p class="section-intro">
					Local-first behavior keeps interactions fast. Sync keeps devices aligned.
					Backups keep ownership on your machine. The result is a writing app that
					feels simple, but scales with your work.
				</p>
				<div class="cta">
					<a class="btn primary" href="/app">Open Alkalye</a>
					<a class="btn" href="/invite">Try invite flow</a>
				</div>
			</section>

		</main>
	</body>
</html>
