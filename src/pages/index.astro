---
import "#app/index.css"

let requestUrl = new URL(Astro.request.url)
let siteBaseUrl = Astro.site ?? new URL(requestUrl.origin)
let canonicalUrl = new URL(
	requestUrl.pathname + requestUrl.search,
	siteBaseUrl,
).toString()
let ogImageUrl = new URL("/icons/alkalye-social.png", siteBaseUrl).toString()

let pageTitle = "Alkalye - Write anywhere. Stay in flow."
let metaDescription =
	"A beautiful markdown editor that works offline, syncs across all your devices, and keeps your words encrypted. Real-time collaboration, time machine, and presentation mode included."

let workflow = [
	{
		time: "Morning commute",
		device: "Phone",
		title: "Capture ideas instantly",
		body: "No signal? No problem. Write offline on the train. Your thoughts sync when you are back online.",
		features: ["Offline-first", "Auto-sync"],
	},
	{
		time: "At your desk",
		device: "Laptop",
		title: "Deep work, uninterrupted",
		body: "Beautiful typography, zero chrome. Just you and your words. Export to your file system to collaborate with Claude Code or OpenCode.",
		features: ["File system sync", "AI collaboration"],
	},
	{
		time: "Team meeting",
		device: "Any device",
		title: "Share and collaborate",
		body: "Send a link. Set permissions: public, read-only, or full editing. See live cursors as your team writes together.",
		features: ["Real-time collaboration", "Granular permissions"],
	},
	{
		time: "Presentation time",
		device: "Tablet + Phone",
		title: "From draft to delivery",
		body: "Switch to slideshow mode instantly. Use your phone as a teleprompter. Same document, new context.",
		features: ["Presentation mode", "Teleprompter"],
	},
]

let capabilities = [
	{
		title: "Time Machine",
		body: "See every change. Scrub through complete document history and recover exactly what you need.",
	},
	{
		title: "Custom Themes",
		body: "Make it yours. Change how preview and slideshow look with custom themes.",
	},
	{
		title: "End-to-end Encrypted",
		body: "Your documents are encrypted before they leave your device. Not even we can read your words.",
	},
	{
		title: "No Lock-in",
		body: "Standard markdown with frontmatter. Export anytime. Self-host if you want. Your data stays yours.",
	},
	{
		title: "Works Everywhere",
		body: "PWA that installs on any device. iOS, Android, macOS, Windows, Linux - one app, all platforms.",
	},
	{
		title: "Open Source",
		body: "MIT licensed. Inspect the code, host it yourself, make it yours. Community driven development.",
	},
]

let aiWorkflow = [
	{
		title: "Sync to your file system",
		body: "Mirror documents as markdown files for backup, versioning, and external editing.",
	},
	{
		title: "Collaborate with Claude Code / OpenCode",
		body: "Point your AI agent at your synced files for drafting, rewrites, structure, and critique.",
	},
	{
		title: "Keep writing in Alkalye",
		body: "Changes flow back into your workspace, with backlinks and history still intact.",
	},
]
---

<!doctype html>
<html lang="en" class="bg-background text-foreground">
	<head>
		<title>{pageTitle}</title>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, viewport-fit=cover"
		/>
		<meta name="description" content={metaDescription} />
		<link rel="canonical" href={canonicalUrl} />
		<meta property="og:type" content="website" />
		<meta property="og:title" content={pageTitle} />
		<meta property="og:description" content={metaDescription} />
		<meta property="og:url" content={canonicalUrl} />
		<meta property="og:image" content={ogImageUrl} />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={pageTitle} />
		<meta name="twitter:description" content={metaDescription} />
		<meta name="twitter:image" content={ogImageUrl} />
	</head>
	<body class="bg-background text-foreground font-mono overflow-y-auto overscroll-auto">
		<main
			class="mx-auto max-w-[900px] px-[calc(1rem+env(safe-area-inset-left))] pt-[calc(1rem+env(safe-area-inset-top))] pb-[calc(4rem+env(safe-area-inset-bottom))]"
		>
			<nav class="sticky top-0 z-50 flex items-center justify-between border-b border-border bg-background py-3">
				<div class="flex items-center gap-2 text-sm font-semibold tracking-tight">
					<span class="text-brand">◆</span>
					<span>Alkalye</span>
				</div>
				<a
					href="/app"
					class="inline-flex min-h-10 items-center justify-center border border-primary bg-primary px-4 text-xs font-medium text-primary-foreground transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
				>
					Open Alkalye
				</a>
			</nav>

			<section class="flex flex-col gap-7 py-16 md:py-20">
				<div class="text-xs font-medium uppercase tracking-[0.12em] text-brand">Free Public Beta</div>
				<h1 class="text-[clamp(1.9rem,4.2vw,3.2rem)] leading-[1.08] tracking-tight">
					Write anywhere.<br /><em class="not-italic text-muted-foreground">Stay in flow.</em>
				</h1>
				<p class="max-w-[52ch] font-sans text-base leading-7 text-muted-foreground">
					A beautiful markdown editor that works offline, syncs across all your devices,
					and keeps your words encrypted. From first thought to final presentation - one
					document, infinite possibilities.
				</p>
				<div>
					<a
						href="/app"
						class="inline-flex min-h-10 items-center justify-center border border-primary bg-primary px-4 text-xs font-medium text-primary-foreground transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
					>
						Start Writing
					</a>
				</div>
				<div class="flex flex-wrap items-center gap-4 text-xs text-muted-foreground">
					<span class="inline-flex items-center gap-1"><span>◆</span><span>End-to-end encrypted</span></span>
					<span class="inline-flex items-center gap-1"><span>◆</span><span>Works offline</span></span>
					<span class="inline-flex items-center gap-1"><span>◆</span><span>Open source</span></span>
				</div>

				<div class="overflow-hidden border border-border bg-card text-card-foreground">
					<div class="flex items-center gap-1 border-b border-border bg-muted px-3 py-2">
						<span class="size-2 rounded-full bg-[#ff5f57]"></span>
						<span class="size-2 rounded-full bg-[#febc2e]"></span>
						<span class="size-2 rounded-full bg-[#28c840]"></span>
						<span class="ml-auto text-[11px] text-muted-foreground">ideas.md</span>
					</div>
					<div class="px-5 py-6 md:px-8">
						<h2 class="mb-4 text-lg font-semibold tracking-tight">Ideas should not wait for Wi-Fi</h2>
						<p class="m-0 font-sans text-[15px] leading-8 text-muted-foreground">
							Office, train, cafe, red-eye flight. Alkalye stays available - offline, on any device, always yours.
							<span class="ml-px inline-block h-[1.2em] w-[2px] animate-pulse bg-brand align-middle"></span>
						</p>
					</div>
				</div>
			</section>

			<section class="border-t border-border py-16">
				<div class="mb-10 space-y-3">
					<h2 class="text-[clamp(1.35rem,2.6vw,1.8rem)] tracking-tight">A day in the life</h2>
					<p class="max-w-[60ch] font-sans leading-7 text-muted-foreground">
						Follow a document from first spark to final delivery. One source, multiple contexts, zero friction.
					</p>
				</div>
				<div class="grid gap-px border border-border bg-border">
					{workflow.map(step => (
						<article class="flex flex-col gap-3 bg-card p-5 text-card-foreground">
							<div class="grid gap-1">
								<span class="text-[11px] font-semibold uppercase tracking-[0.08em] text-brand">
									{step.time}
								</span>
								<span class="text-[11px] uppercase tracking-[0.08em] text-muted-foreground">
									{step.device}
								</span>
							</div>
							<h3 class="text-lg leading-tight tracking-tight">{step.title}</h3>
							<p class="font-sans text-[15px] leading-7 text-muted-foreground">{step.body}</p>
							<div class="flex flex-wrap gap-1.5 pt-1">
								{step.features.map(feature => (
									<span class="inline-flex items-center justify-center rounded-md border border-border bg-muted px-2 py-1 text-[11px] uppercase tracking-[0.04em] text-foreground">
										{feature}
									</span>
								))}
							</div>
						</article>
					))}
				</div>
			</section>

			<section class="border-t border-border py-16">
				<div class="mb-10 space-y-3">
					<h2 class="text-[clamp(1.35rem,2.6vw,1.8rem)] tracking-tight">Your AI pair writer, without lock-in</h2>
					<p class="max-w-[60ch] font-sans leading-7 text-muted-foreground">
						Alkalye can sync documents to your file system, so Claude Code or OpenCode can help with blog posts, talks, and technical writing whenever you need it.
					</p>
				</div>
				<div class="overflow-hidden border border-border bg-card text-card-foreground">
					<div class="border-b border-border bg-muted px-5 py-4">
						<p class="font-sans text-sm leading-6 text-muted-foreground">
							Keep your markdown local. Let your agent propose edits. Bring improvements back into the same collaborative document with full history.
						</p>
					</div>
					<div class="grid gap-px bg-border">
						{aiWorkflow.map(step => (
							<article class="bg-card px-5 py-5">
								<h3 class="mb-2 text-[15px] font-semibold leading-6">{step.title}</h3>
								<p class="font-sans text-sm leading-6 text-muted-foreground">{step.body}</p>
							</article>
						))}
					</div>
				</div>
			</section>

			<section class="border-t border-border py-16">
				<div class="mb-10 space-y-3">
					<h2 class="text-[clamp(1.35rem,2.6vw,1.8rem)] tracking-tight">Everything you need</h2>
					<p class="max-w-[60ch] font-sans leading-7 text-muted-foreground">
						Powerful features that stay out of your way until you need them.
					</p>
				</div>
				<div class="grid gap-px border border-border bg-border">
					{capabilities.map(capability => (
						<article class="bg-card p-6 text-card-foreground">
							<h3 class="mb-2 flex items-center gap-2 text-[15px] font-semibold">
								<span class="text-brand">◆</span>
								<span>{capability.title}</span>
							</h3>
							<p class="font-sans text-sm leading-6 text-muted-foreground">{capability.body}</p>
						</article>
					))}
				</div>
			</section>

			<section class="border-t border-border py-20 text-center">
				<h2 class="mb-3 text-[clamp(1.5rem,3vw,2rem)] tracking-tight">Your words, everywhere</h2>
				<p class="mx-auto mb-8 max-w-[45ch] font-sans leading-7 text-muted-foreground">
					Join the free public beta. No credit card required. Self-host anytime. Your data stays encrypted and yours.
				</p>
				<div>
					<a
						href="/app"
						class="inline-flex min-h-10 items-center justify-center border border-primary bg-primary px-4 text-xs font-medium text-primary-foreground transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
					>
						Start Writing
					</a>
				</div>
			</section>

			<footer class="flex flex-col items-center justify-between gap-4 border-t border-border py-8 text-xs text-muted-foreground md:flex-row">
				<div>© 2026 Alkalye - MIT Licensed</div>
				<div class="flex items-center gap-6">
					<a class="transition-colors hover:text-foreground" href="https://github.com/ccssmnn/alkalye" target="_blank" rel="noopener">GitHub</a>
					<a class="transition-colors hover:text-foreground" href="/app/welcome">Docs</a>
				</div>
			</footer>
		</main>
	</body>
</html>
