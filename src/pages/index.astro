---
import "#app/index.css"

let requestUrl = new URL(Astro.request.url)
let siteBaseUrl = Astro.site ?? new URL(requestUrl.origin)
let canonicalUrl = new URL(
	requestUrl.pathname + requestUrl.search,
	siteBaseUrl,
).toString()
let ogImageUrl = new URL("/icons/alkalye-social.png", siteBaseUrl).toString()

let pageTitle = "Alkalye - Write anywhere. Stay in flow."
let metaDescription =
	"A beautiful markdown editor that works offline, syncs across all your devices, and keeps your words encrypted. Real-time collaboration, time machine, and presentation mode included."

let workflow = [
	{
		time: "Morning commute",
		device: "Phone",
		title: "Capture ideas instantly",
		body: "No signal? No problem. Write offline on the train. Your thoughts sync when you are back online.",
		features: ["Offline-first", "Auto-sync"],
	},
	{
		time: "At your desk",
		device: "Laptop",
		title: "Deep work, uninterrupted",
		body: "Beautiful typography, zero chrome. Just you and your words. Export to your file system to collaborate with Claude Code or OpenCode.",
		features: ["File system sync", "AI collaboration"],
	},
	{
		time: "Team meeting",
		device: "Any device",
		title: "Share and collaborate",
		body: "Send a link. Set permissions: public, read-only, or full editing. See live cursors as your team writes together.",
		features: ["Real-time collaboration", "Granular permissions"],
	},
	{
		time: "Presentation time",
		device: "Tablet + Phone",
		title: "From draft to delivery",
		body: "Switch to slideshow mode instantly. Use your phone as a teleprompter. Same document, new context.",
		features: ["Presentation mode", "Teleprompter"],
	},
]

let capabilities = [
	{
		title: "Time Machine",
		body: "See every change. Scrub through complete document history and recover exactly what you need.",
	},
	{
		title: "Custom Themes",
		body: "Make it yours. Change how preview and slideshow look with custom themes.",
	},
	{
		title: "End-to-end Encrypted",
		body: "Your documents are encrypted before they leave your device. Not even we can read your words.",
	},
	{
		title: "No Lock-in",
		body: "Standard markdown with frontmatter. Export anytime. Self-host if you want. Your data stays yours.",
	},
	{
		title: "Works Everywhere",
		body: "PWA that installs on any device. iOS, Android, macOS, Windows, Linux - one app, all platforms.",
	},
	{
		title: "Open Source",
		body: "MIT licensed. Inspect the code, host it yourself, make it yours. Community driven development.",
	},
]

let aiWorkflow = [
	{
		title: "Sync to your file system",
		body: "Mirror documents as markdown files for backup, versioning, and external editing.",
	},
	{
		title: "Collaborate with Claude Code / OpenCode",
		body: "Point your AI agent at your synced files for drafting, rewrites, structure, and critique.",
	},
	{
		title: "Keep writing in Alkalye",
		body: "Changes flow back into your workspace, with backlinks and history still intact.",
	},
]
---

<!doctype html>
<html lang="en" class="bg-background text-foreground">
	<head>
		<title>{pageTitle}</title>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, viewport-fit=cover"
		/>
		<meta name="description" content={metaDescription} />
		<link rel="canonical" href={canonicalUrl} />
		<link rel="icon" type="image/png" href="/icons/alkalye-icon.png" />
		<link rel="apple-touch-icon" href="/icons/alkalye-icon.png" />
		<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
		<meta name="theme-color" content="#0a0a0a" media="(prefers-color-scheme: dark)" />
		<script is:inline>
			if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
				document.documentElement.classList.add("dark")
			}
		</script>
		<script is:inline>
			let isStandalone = window.matchMedia("(display-mode: standalone)").matches
			let isIOSStandalone = window.navigator.standalone === true
			if ((isStandalone || isIOSStandalone) && location.pathname === "/") {
				location.replace("/app")
			}
		</script>
		<meta property="og:type" content="website" />
		<meta property="og:title" content={pageTitle} />
		<meta property="og:description" content={metaDescription} />
		<meta property="og:url" content={canonicalUrl} />
		<meta property="og:image" content={ogImageUrl} />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={pageTitle} />
		<meta name="twitter:description" content={metaDescription} />
		<meta name="twitter:image" content={ogImageUrl} />
	</head>
	<body class="bg-background text-foreground font-sans overflow-y-auto overscroll-auto">
		<div class="fixed inset-0 pointer-events-none overflow-hidden" aria-hidden="true">
			<div class="absolute top-0 left-1/4 w-[600px] h-[600px] bg-brand/5 dark:bg-brand/3 rounded-none blur-3xl -translate-y-1/2"></div>
			<div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-brand/5 dark:bg-brand/3 rounded-none blur-3xl translate-y-1/2"></div>
		</div>
		<main class="relative pb-[calc(4rem+env(safe-area-inset-bottom))]">
			<div class="sticky top-0 z-50 border-b border-border/60 bg-background/80 backdrop-blur-md">
				<nav class="mx-auto flex max-w-[960px] items-center justify-between px-[calc(1rem+env(safe-area-inset-left))] py-3">
					<div class="flex items-center gap-2 text-sm font-semibold tracking-tight">
						<span>Alkalye</span>
					</div>
					<a
						href="/app"
						class="inline-flex min-h-11 items-center justify-center border border-primary bg-primary px-5 text-sm font-medium text-primary-foreground transition-all duration-200 hover:bg-primary/90 hover:scale-[1.02] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
					>
						Open Alkalye
					</a>
				</nav>
			</div>

			<section class="relative flex flex-col gap-8 py-20 md:py-28">
				<div class="mx-auto flex max-w-[960px] flex-col gap-8 px-[calc(1rem+env(safe-area-inset-left))]">
					<div class="absolute -left-4 top-1/3 w-px h-32 bg-gradient-to-b from-transparent via-brand/30 to-transparent hidden sm:block"></div>
					
					<div class="inline-flex items-center gap-2 px-3 py-1 rounded-none bg-brand/8 border border-brand/20 w-fit">
						<span class="relative flex h-2 w-2">
							<span class="animate-ping absolute inline-flex h-full w-full rounded-none bg-brand opacity-75"></span>
							<span class="relative inline-flex rounded-none h-2 w-2 bg-brand"></span>
						</span>
						<span class="text-xs font-medium tracking-wide text-brand">Free Public Beta</span>
					</div>

					<h1 class="text-[clamp(2.5rem,5vw,4rem)] leading-[1.05] tracking-tight font-semibold">
						Write anywhere.<br /><span class="text-muted-foreground/80">Stay in flow.</span>
					</h1>
					<p class="max-w-[56ch] text-lg md:text-xl leading-relaxed text-muted-foreground">
						A beautiful markdown editor that works offline, syncs across all your devices,
						and keeps your words encrypted. From first thought to final presentation — one
						document, infinite possibilities.
					</p>
					<div class="flex flex-wrap items-center gap-4 pt-2">
						<a
							href="/app"
							class="inline-flex min-h-12 items-center justify-center bg-primary px-8 text-base font-medium text-primary-foreground transition-all duration-200 hover:bg-primary/90 hover:scale-[1.02] hover:shadow-lg hover:shadow-primary/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-none"
						>
							Start Writing
						</a>
						<div class="flex items-center gap-6 text-sm text-muted-foreground">
							<span class="flex items-center gap-2">
								<svg class="w-4 h-4 text-brand" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
								End-to-end encrypted
							</span>
							<span class="flex items-center gap-2">
								<svg class="w-4 h-4 text-brand" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"></path></svg>
								Works offline
							</span>
							<span class="flex items-center gap-2">
								<svg class="w-4 h-4 text-brand" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
								No account required
							</span>
						</div>
					</div>

					<div class="relative mt-12 overflow-hidden rounded-none border border-border/60 bg-card shadow-2xl shadow-black/5 dark:shadow-black/20">
						<div class="absolute inset-0 bg-gradient-to-br from-brand/3 via-transparent to-brand/5"></div>
						<div class="relative flex items-center gap-2 border-b border-border/60 bg-muted/50 px-4 py-3">
							<div class="flex gap-1.5">
								<span class="size-3 rounded-[2px] bg-[#ff5f57]/80"></span>
								<span class="size-3 rounded-[2px] bg-[#febc2e]/80"></span>
								<span class="size-3 rounded-[2px] bg-[#28c840]/80"></span>
							</div>
							<span class="ml-4 text-xs text-muted-foreground font-mono">ideas.md</span>
						</div>
						<div class="relative px-6 py-8 md:px-10 md:py-12">
							<h2 class="mb-4 text-xl font-semibold tracking-tight">Ideas should not wait for Wi-Fi</h2>
							<p class="m-0 text-base md:text-[17px] leading-8 text-muted-foreground">
								Office, train, cafe, red-eye flight. Alkalye stays available — offline, on any device, always yours.
								<span class="cursor-blink ml-px inline-block h-[1.2em] w-[2px] bg-brand align-middle" aria-hidden="true"></span>
							</p>
						</div>
					</div>
				</div>
			</section>

			<section class="relative py-20">
				<div class="mx-auto max-w-[960px] px-[calc(1rem+env(safe-area-inset-left))]">
					<div class="absolute left-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-border to-transparent hidden lg:block"></div>
					
					<div class="mb-12 space-y-4">
						<h2 class="text-[clamp(1.75rem,3vw,2.25rem)] tracking-tight font-semibold">A day in the life</h2>
						<p class="max-w-[60ch] text-lg text-muted-foreground leading-relaxed">
							Follow a document from first spark to final delivery. One source, multiple contexts, zero friction.
						</p>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
						{workflow.map(step => (
							<article class="group relative overflow-hidden rounded-none border border-border/60 bg-card p-6 transition-all duration-300 hover:border-brand/30 hover:shadow-lg hover:shadow-brand/5">
								<div class="absolute top-0 right-0 w-32 h-32 bg-brand/5 rounded-none blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
								<div class="relative">
									<div class="flex items-center gap-3 mb-4">
										<span class="text-[11px] font-semibold uppercase tracking-[0.1em] text-brand">
											{step.time}
										</span>
										<span class="text-[11px] uppercase tracking-[0.1em] text-muted-foreground/60">·</span>
										<span class="text-[11px] uppercase tracking-[0.1em] text-muted-foreground/60">
											{step.device}
										</span>
									</div>
									<h3 class="text-lg font-semibold leading-tight tracking-tight mb-2">{step.title}</h3>
									<p class="text-[15px] leading-7 text-muted-foreground mb-4">{step.body}</p>
									<div class="flex flex-wrap gap-2">
										{step.features.map(feature => (
											<span class="inline-flex items-center rounded-md bg-muted/50 px-2.5 py-1 text-[11px] uppercase tracking-[0.04em] font-medium text-foreground/80">
												{feature}
											</span>
										))}
									</div>
								</div>
							</article>
						))}
					</div>
				</div>
			</section>

			<section class="relative py-20">
				<div class="mx-auto max-w-[960px] px-[calc(1rem+env(safe-area-inset-left))]">
					<div class="mb-12 space-y-4">
						<h2 class="text-[clamp(1.75rem,3vw,2.25rem)] tracking-tight font-semibold">Your AI pair writer, without lock-in</h2>
						<p class="max-w-[60ch] text-lg text-muted-foreground leading-relaxed">
							Alkalye can sync documents to your file system, so Claude Code or OpenCode can help with blog posts, talks, and technical writing whenever you need it.
						</p>
					</div>
					<div class="overflow-hidden rounded-none border border-border/60 bg-card shadow-xl shadow-black/5 dark:shadow-black/20">
						<div class="relative bg-gradient-to-r from-brand/5 via-transparent to-brand/5 px-6 py-5 border-b border-border/60">
							<p class="text-sm leading-6 text-muted-foreground">
								Keep your markdown local. Let your agent propose edits. Bring improvements back into the same collaborative document with full history.
							</p>
						</div>
						<div class="grid">
							{aiWorkflow.map((step, i) => (
								<article class="relative px-6 py-5 border-b border-border/40 last:border-0 hover:bg-muted/30 transition-colors duration-200">
									<div class="absolute left-6 top-1/2 -translate-y-1/2 w-6 h-6 rounded-none bg-brand/10 flex items-center justify-center">
										<span class="text-[10px] font-bold text-brand">{i + 1}</span>
									</div>
									<div class="pl-10">
										<h3 class="mb-1 text-[15px] font-semibold leading-6">{step.title}</h3>
										<p class="text-sm leading-6 text-muted-foreground">{step.body}</p>
									</div>
								</article>
							))}
						</div>
					</div>
				</div>
			</section>

			<section class="relative py-20">
				<div class="mx-auto max-w-[960px] px-[calc(1rem+env(safe-area-inset-left))]">
					<div class="mb-12 space-y-4">
						<h2 class="text-[clamp(1.75rem,3vw,2.25rem)] tracking-tight font-semibold">Everything you need</h2>
						<p class="max-w-[60ch] text-lg text-muted-foreground leading-relaxed">
							Powerful features that stay out of your way until you need them.
						</p>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
						{capabilities.map(capability => (
							<article class="group relative overflow-hidden rounded-none border border-border/60 bg-card p-6 transition-all duration-300 hover:border-brand/30 hover:shadow-lg hover:shadow-brand/5">
								<div class="absolute top-0 right-0 w-24 h-24 bg-brand/5 rounded-none blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
								<div class="relative">
									<h3 class="mb-2 text-[15px] font-semibold leading-6">
										{capability.title}
									</h3>
									<p class="text-sm leading-6 text-muted-foreground">{capability.body}</p>
								</div>
							</article>
						))}
					</div>
				</div>
			</section>

			<section class="relative py-24 text-center">
				<div class="absolute inset-0 bg-gradient-to-b from-transparent via-brand/5 to-transparent pointer-events-none"></div>
				<div class="relative mx-auto max-w-[960px] px-[calc(1rem+env(safe-area-inset-left))]">
					<h2 class="mb-4 text-[clamp(1.75rem,3.5vw,2.5rem)] tracking-tight font-semibold">Your words, everywhere</h2>
					<p class="mx-auto mb-10 max-w-[50ch] text-lg text-muted-foreground leading-relaxed">
						Join the free public beta. No email, no credit card, no account required. Self-host anytime. Your data stays encrypted and yours.
					</p>
					<a
						href="/app"
						class="inline-flex min-h-12 items-center justify-center bg-primary px-10 text-base font-medium text-primary-foreground transition-all duration-200 hover:bg-primary/90 hover:scale-[1.02] hover:shadow-xl hover:shadow-primary/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-none"
					>
						Start Writing
					</a>
				</div>
			</section>

			<footer class="border-t border-border/60">
				<div class="mx-auto flex max-w-[960px] flex-col items-center justify-between gap-4 px-[calc(1rem+env(safe-area-inset-left))] py-8 text-sm text-muted-foreground md:flex-row">
					<div>© 2026 Alkalye — MIT Licensed</div>
					<div class="flex items-center gap-8">
						<a class="transition-colors hover:text-foreground" href="https://github.com/ccssmnn/alkalye" target="_blank" rel="noopener">GitHub</a>
						<a class="transition-colors hover:text-foreground" href="/app/welcome">Docs</a>
					</div>
				</div>
			</footer>
		</main>
	</body>
</html>
